(()=>{"use strict";var t,e={223:(t,e,s)=>{var a=s(260),i=s.n(a);const r={JUMP:{key:"virtual-guy-jump",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Jump.png"},FALL:{key:"virtual-guy-fall",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Fall.png"},HIT:{key:"virtual-guy-hit",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Hit.png"},IDLE:{key:"virtual-guy-idle",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Idle.png"},RUN:{key:"virtual-guy-run",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Run.png"},WALL_JUMP:{key:"virtual-guy-wall-jump",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Wall Jump.png"},DOUBLE_JUMP:{key:"virtual-guy-double-jump",path:"assets\\sprites\\Main Characters\\Virtual Guy\\Double Jump.png"}},n="base-terrain",h="assets\\sprites\\Terrain\\Terrain.png",p="base-background-brown",o="assets\\sprites\\Background\\Brown.png",l="base-background-blue",c="assets\\sprites\\Background\\Blue.png",d="base-background-gray",u="assets\\sprites\\Background\\Gray.png",y="base-background-green",g="assets\\sprites\\Background\\Green.png",m="base-background-pink",L="assets\\sprites\\Background\\Pink.png",f="base-background-purple",v="assets\\sprites\\Background\\Purple.png",S="base-background-yellow",k="assets\\sprites\\Background\\Yellow.png";var b;!function(t){t.LOADING="loading",t.MENU="menu",t.GAME_OVER="game-over",t.LEVEL1="level-1",t.LEVEL2="level-2",t.LEVEL3="level-3"}(b||(b={}));class w extends Phaser.Scene{preload(){const t=500,e=this.add.graphics(),s=this.add.graphics();s.fillStyle(0,1),s.fillRect((this.scale.canvas.width-t)/2,(this.scale.canvas.height-50)/2,t,50),this.load.on("progress",(s=>{e.clear(),e.fillStyle(16250871,1),e.fillRect((this.scale.canvas.width-t)/2,(this.scale.canvas.height-50)/2,t*s,50).setDepth(6)})),this.load.on("complete",(()=>{e.destroy(),s.destroy(),this.scene.start(b.LEVEL1)})),this.load.spritesheet(r.JUMP.key,r.JUMP.path,{frameWidth:32,frameHeight:32}),this.load.spritesheet(r.DOUBLE_JUMP.key,r.DOUBLE_JUMP.path,{frameWidth:32,frameHeight:32}),this.load.spritesheet(r.WALL_JUMP.key,r.WALL_JUMP.path,{frameWidth:32,frameHeight:32}),this.load.spritesheet(r.FALL.key,r.FALL.path,{frameWidth:32,frameHeight:32}),this.load.spritesheet(r.HIT.key,r.HIT.path,{frameWidth:32,frameHeight:32}),this.load.spritesheet(r.IDLE.key,r.IDLE.path,{frameWidth:32,frameHeight:32}),this.load.spritesheet(r.RUN.key,r.RUN.path,{frameWidth:32,frameHeight:32}),this.load.image(n,h),this.load.image(p,o),this.load.image(l,c),this.load.image(d,u),this.load.image(y,g),this.load.image(f,v),this.load.image(S,k),this.load.image(m,L)}}const F={type:Phaser.AUTO,width:window.innerWidth,height:window.innerHeight,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:475},debug:!0}},scene:[w],pixelArt:!0};class E{static get Instance(){return E.instance||(E.instance=new E),E.instance}initialize(t){null!==t.input.keyboard&&(this.keyboard=t.input.keyboard,this.cursor=this.keyboard.createCursorKeys())}isSpaceKeyDown(){return Phaser.Input.Keyboard.JustDown(this.cursor.space)}isLeftKeyDown(){return this.cursor.left.isDown}isRightKeyDown(){return this.cursor.right.isDown}}const U={JUMP:"jump",FALL:"fall",HIT:"hit",IDLE:"idle",RUN:"run",WALL_JUMP:"wall-jump",DOUBLE_JUMP:"double-jump"};class M{constructor(t){this.parent=t}}class P extends M{constructor(){super(...arguments),this.moveForce=100}Enter(){this.parent.jumpCount=0,this.parent.play(U.RUN)}Update(){this.parent.persistenceForce(),E.Instance.isLeftKeyDown()?(this.parent.applyForceX(-this.moveForce),this.parent.flipPlayerLeft()):E.Instance.isRightKeyDown()?(this.parent.applyForceX(this.moveForce),this.parent.flipPlayerRight()):this.parent.isGrounded?this.parent.gotoState(U.IDLE):this.parent.gotoState(U.FALL),E.Instance.isSpaceKeyDown()&&this.parent.gotoState(U.JUMP)}Exit(){this.parent.stop()}}class D extends M{constructor(){super(...arguments),this.inAirMoveForce=75}Enter(){this.parent.play(U.FALL)}Update(){this.parent.persistenceForce(),this.parent.isGrounded?this.parent.gotoState(U.IDLE):this.parent.isTouchingWall?this.parent.gotoState(U.WALL_JUMP):1==this.parent.jumpCount&&E.Instance.isSpaceKeyDown()?this.parent.gotoState(U.DOUBLE_JUMP):0==this.parent.jumpCount&&E.Instance.isSpaceKeyDown()&&this.parent.gotoState(U.JUMP),E.Instance.isLeftKeyDown()?(this.parent.applyForceX(-this.inAirMoveForce),this.parent.flipPlayerLeft()):E.Instance.isRightKeyDown()&&(this.parent.applyForceX(this.inAirMoveForce),this.parent.flipPlayerRight())}Exit(){this.parent.stop()}}class I extends M{Enter(){this.parent.jumpCount=0,this.parent.play(U.IDLE)}Update(){this.parent.persistenceForce(),E.Instance.isLeftKeyDown()?(this.parent.flipPlayerLeft(),this.parent.gotoState(U.RUN)):E.Instance.isRightKeyDown()&&(this.parent.flipPlayerRight(),this.parent.gotoState(U.RUN)),E.Instance.isSpaceKeyDown()&&this.parent.gotoState(U.JUMP)}Exit(){this.parent.stop()}}class A extends M{Enter(){this.parent.play(U.HIT)}Update(){}Exit(){this.parent.stop()}}class O extends M{constructor(){super(...arguments),this.jumpForce=-225,this.inAirMoveForce=75}Enter(){this.parent.setVelocityY(0),this.parent.play(U.JUMP),++this.parent.jumpCount,this.jump()}Update(){E.Instance.isLeftKeyDown()?(this.parent.applyForceX(-this.inAirMoveForce),this.parent.flipPlayerLeft()):E.Instance.isRightKeyDown()&&(this.parent.applyForceX(this.inAirMoveForce),this.parent.flipPlayerRight()),this.parent.jumpCount<this.parent.maxJumpCount&&E.Instance.isSpaceKeyDown()&&this.parent.gotoState(U.DOUBLE_JUMP),null!==this.parent.body&&this.parent.body.velocity.y>50&&this.parent.gotoState(U.FALL)}jump(){this.parent.setVelocityY(this.jumpForce)}Exit(){this.parent.stop()}}class j extends M{constructor(){super(...arguments),this.jumpForce=-175,this.inAirMoveForce=50}Enter(){this.parent.play(U.DOUBLE_JUMP),++this.parent.jumpCount,this.jump()}Update(){E.Instance.isLeftKeyDown()?(this.parent.applyForceX(-this.inAirMoveForce),this.parent.flipPlayerLeft()):E.Instance.isRightKeyDown()&&(this.parent.applyForceX(this.inAirMoveForce),this.parent.flipPlayerRight()),null!==this.parent.body&&this.parent.body.velocity.y>0&&this.parent.gotoState(U.FALL)}jump(){this.parent.setVelocityY(this.jumpForce)}Exit(){this.parent.stop()}}class J extends M{constructor(){super(...arguments),this.worldGravity=0,this.inAirMoveForce=10}Enter(){this.worldGravity=this.parent.scene.physics.world.gravity.y,this.parent.scene.physics.world.gravity.y=.1*this.worldGravity,this.parent.jumpCount=0,this.parent.play(U.WALL_JUMP)}Update(){this.parent.persistenceForce(),this.parent.isTouchingWall||this.parent.gotoState(U.FALL),this.parent.isGrounded&&this.parent.gotoState(U.IDLE),E.Instance.isSpaceKeyDown()&&this.parent.gotoState(U.JUMP),E.Instance.isRightKeyDown()&&this.parent.isTouchingWallLeft?(this.parent.applyForceX(this.inAirMoveForce),this.parent.flipPlayerRight()):E.Instance.isLeftKeyDown()&&!this.parent.isTouchingWallLeft&&(this.parent.applyForceX(-this.inAirMoveForce),this.parent.flipPlayerLeft())}Exit(){this.parent.scene.physics.world.gravity.y=this.worldGravity,this.parent.stop()}}class R{constructor(){this.data=[]}push(t){this.data.push(t)}pop(){return this.data.pop()}top(){return this.data[this.data.length-1]}length(){return this.data.length}}class x extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s,a){super(t,e,s,a.IDLE.key),this.playerStateStack=new R,this.playerState=new Map,this.BODY_SCALE_FACTOR={x:.5,y:.5},this.BODY_OFFSET={x:7.5,y:15},this.isGrounded=!0,this.isTouchingWall=!1,this.isTouchingWallLeft=!1,this.isFacingLeft=!1,this.jumpCount=0,this.maxJumpCount=2,this.playerSpriteObj=a,this.create(),this.scene.add.existing(this),this.scene.physics.world.enable(this),null!==this.body&&this.body.setSize(.5*this.width,.5*this.height).setOffset(7.5,15)}create(){this.createAnimations(),this.createState()}createState(){this.playerState.set(U.RUN,new P(this)),this.playerState.set(U.FALL,new D(this)),this.playerState.set(U.IDLE,new I(this)),this.playerState.set(U.HIT,new A(this)),this.playerState.set(U.JUMP,new O(this)),this.playerState.set(U.WALL_JUMP,new J(this)),this.playerState.set(U.DOUBLE_JUMP,new j(this));const t=this.playerState.get(U.IDLE);void 0!==t&&this.playerStateStack.push(t)}createAnimations(){Object.values(U).forEach((t=>{this.scene.anims.exists(t)&&this.scene.anims.remove(t)})),this.anims.create({key:U.JUMP,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.JUMP.key,{start:0,end:-1}),frameRate:15,repeat:-1}),this.anims.create({key:U.DOUBLE_JUMP,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.DOUBLE_JUMP.key,{start:0,end:-1}),frameRate:15,repeat:0}),this.anims.create({key:U.WALL_JUMP,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.WALL_JUMP.key,{start:0,end:-1}),frameRate:15,repeat:0}),this.anims.create({key:U.HIT,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.HIT.key,{start:0,end:-1}),frameRate:15,repeat:0}),this.anims.create({key:U.FALL,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.FALL.key,{start:0,end:-1}),frameRate:15,repeat:0}),this.anims.create({key:U.IDLE,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.IDLE.key,{start:0,end:-1}),frameRate:15,repeat:-1}),this.anims.create({key:U.RUN,frames:this.anims.generateFrameNumbers(this.playerSpriteObj.RUN.key,{start:0,end:-1}),frameRate:15,repeat:-1}),this.play(U.IDLE)}gotoState(t){var e,s;this.playerStateStack.length()>1&&(null===(e=this.playerStateStack.top())||void 0===e||e.Exit(),this.playerStateStack.pop());const a=this.playerState.get(t);void 0!==a&&(this.playerStateStack.push(a),null===(s=this.playerStateStack.top())||void 0===s||s.Enter())}applyForceX(t){this.setVelocityX(t)}flipPlayerLeft(){this.flipX=!0,this.isFacingLeft=!0}flipPlayerRight(){this.flipX=!1,this.isFacingLeft=!1}update(){var t;null===(t=this.playerStateStack.top())||void 0===t||t.Update(),this.updateFlags()}persistenceForce(){this.isFacingLeft?this.applyForceX(-1e-8):this.isFacingLeft||this.applyForceX(1e-8)}updateFlags(){var t,e,s;(null===(t=this.body)||void 0===t?void 0:t.blocked.down)?this.isGrounded=!0:this.isGrounded=!1,(null===(e=this.body)||void 0===e?void 0:e.blocked.left)?(this.isTouchingWall=!0,this.isTouchingWallLeft=!0):(null===(s=this.body)||void 0===s?void 0:s.blocked.right)?(this.isTouchingWall=!0,this.isTouchingWallLeft=!1):this.isTouchingWall=!1}}class W extends Phaser.Scene{constructor(){super(...arguments),this.backgroundScrollSpeed=.01}preload(){this.load.tilemapTiledJSON("level1","assets\\level\\Level1.json")}create(){var t;E.Instance.initialize(this),this.levelMap=this.make.tilemap({key:"level1",tileWidth:16,tileHeight:16});const e=this.levelMap.addTilesetImage("Terrain",n);this.player=new x(this,500,200,r).setDepth(10),null!==e&&(this.platform=null===(t=this.levelMap.createLayer("Ground",e,0,0))||void 0===t?void 0:t.setOrigin(0).setDepth(3),void 0!==this.platform&&(this.platform.setCollision([94,95,96,97,98,116,117,118,119,120,138,139,140]),this.physics.world.bounds.width=this.platform.width,this.physics.add.collider(this.player,this.platform,void 0,void 0,this))),this.background=this.add.tileSprite(0,0,1e4,1e4,p).setDepth(1),this.cameras.main.setBounds(0,0,this.levelMap.widthInPixels,this.levelMap.heightInPixels),this.player.setCollideWorldBounds(!0),this.cameras.main.setZoom(4),this.cameras.main.startFollow(this.player)}update(t,e){this.background.tilePositionY-=this.backgroundScrollSpeed*e,this.player.update()}}window.addEventListener("load",(()=>{const t=new(i().Game)(F);t.scene.add(b.LOADING,w),t.scene.add(b.MENU,w),t.scene.add(b.LEVEL1,W),t.scene.add(b.LEVEL2,w),t.scene.add(b.LEVEL3,w),t.scene.add(b.GAME_OVER,w)}))}},s={};function a(t){var i=s[t];if(void 0!==i)return i.exports;var r=s[t]={exports:{}};return e[t].call(r.exports,r,r.exports,a),r.exports}a.m=e,t=[],a.O=(e,s,i,r)=>{if(!s){var n=1/0;for(l=0;l<t.length;l++){for(var[s,i,r]=t[l],h=!0,p=0;p<s.length;p++)(!1&r||n>=r)&&Object.keys(a.O).every((t=>a.O[t](s[p])))?s.splice(p--,1):(h=!1,r<n&&(n=r));if(h){t.splice(l--,1);var o=i();void 0!==o&&(e=o)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,i,r]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};a.O.j=e=>0===t[e];var e=(e,s)=>{var i,r,[n,h,p]=s,o=0;if(n.some((e=>0!==t[e]))){for(i in h)a.o(h,i)&&(a.m[i]=h[i]);if(p)var l=p(a)}for(e&&e(s);o<n.length;o++)r=n[o],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(l)},s=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var i=a.O(void 0,[216],(()=>a(223)));i=a.O(i)})();